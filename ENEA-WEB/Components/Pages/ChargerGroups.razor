@page "/ChargerGroups"
@using Generated.Client
@inject NavigationManager Navigation
@inject ILogger<ChargerGroups> Logger
@attribute [StreamRendering]
@rendermode InteractiveServer

<PageTitle>Charger Groups</PageTitle>

<TableCardComponent Title="Charger Groups table"
                    Columns="@List"
                    Converter="@(data => new ChargerGroupReadDtoPaginationResponseWrapper(data))"
                    Accessor="@((client, pageIndex, pageSize) => client.ChargerGroupGETAsync(pageIndex, pageSize))">
    <RowTemplate>
        <MudTd DataLabel="Id">@context.Id</MudTd>
        <MudTd DataLabel="Name">@context.Name</MudTd>
        <MudTd DataLabel="Address">@context.Address</MudTd>
        <MudTd DataLabel="Actions">
            <MudIconButton Icon="@Icons.Material.Filled.Details"
                           @onclick="() => NavigateToDetail(context.Id)"/>
            <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error"/>
        </MudTd>
    </RowTemplate>
</TableCardComponent>

@code {

    private readonly List<String> List = new List<String> { "Id", "Name", "Address", "Actions" };

    private void NavigateToDetail(Guid id)
    {
        Navigation.NavigateTo($"/ChargerGroups/{id}");
    }
}